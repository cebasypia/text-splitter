## 要件定義（最終確定版 / MVP）

### 1. 目的

文字数制限のある外部サービス（主に翻訳サイト等）へ貼り付けるために、長文を指定長で機械的に分割し、各チャンクをワンクリックでクリップボードへコピーできるようにする。

### 2. 対象ユーザー

- 翻訳・要約・校正など、入力制限により長文を分割して貼る必要があるユーザー

- 主利用環境：PC ブラウザ（モバイルは必須要件外）

---

## 3. 機能要件

### 3.1 入力

- 長文入力欄（テキストエリア）

- 分割文字数 N（数値入力）

  - デフォルト：2000

  - 制約：整数、1 以上

  - 上限：設けない（上限なし）

### 3.2 文字数カウント基準（Google 翻訳に寄せる）

- 「文字数」は **Unicode code points 数**でカウントする（“人間が見る文字数”ではなく、処理系に近い定義）

- 画面の文字数表示も code points を表示値とする

### 3.3 改行コードの正規化（確定）

- 入力テキストは内部処理前に **CRLF（`\r\n`）および CR（`\r`）を LF（`\n`）に正規化**する

- 正規化後のテキストを以下のすべてに用いる

  - 文字数カウント

  - 分割処理

  - 画面表示（チャンク本文）

  - クリップボードコピー内容

### 3.4 分割処理

- 分割方式：入力テキストを先頭から **N code points ごと**に機械的に切り出す

- 反映タイミング：**入力テキスト変更／N 変更で自動更新**

- 出力順：入力順を保持（1 → 2 → …）

### 3.5 出力（分割結果表示）

- 分割結果をチャンク単位で一覧表示

- 各チャンクに表示する情報

  - チャンク番号（例：1/5）

  - 文字数（code points）

  - 本文表示：**全件折りたたみ（デフォルトはプレビュー）**

    - プレビュー：先頭一定長＋省略（具体値は実装裁量）

    - 展開操作で全文表示に切替可能

  - 「コピー」ボタン：チャンク全文をクリップボードへコピー

### 3.6 クリップボード

- コピー成功時：簡易フィードバック（例：「コピーしました」）

- コピー失敗時：失敗メッセージ表示（代替導線は MVP 必須ではない）

### 3.7 入力補助

- 「クリア」ボタン：入力欄と分割結果を初期化

---

## 4. 非機能要件

- プライバシー：入力テキストはサーバ送信しない／保存しない／解析しない

- 動作環境：モダンブラウザ、HTTPS（Clipboard API 前提）

- 性能：数万文字程度で体感破綻しない範囲を目標（厳密 SLA なし）

---

## 5. MVP でやらないこと（スコープ外）

- 改行・句点・単語境界などを考慮した賢い分割

- ログイン、保存、共有、履歴

- デザイン作り込み（テーマ、ダークモード等）

- 多言語 UI

- モバイル最適化
